<div class="main-container">
    <div class="inner-wrapper" *ngIf="!isChatActive">
        <button mat-raised-button color="primary" matBadge="8" matBadgePosition="before" matBadgeColor="warn"
            (click)="toggleChat()">
            <span class="material-icons">
                sms
            </span>
        </button>
    </div>

    <div class="chat-screen-wrapper" *ngIf="isChatActive">
        <div class="row">
            <div class="card">
                <div class="card-header bg-white">
                    <div class="d-flex">
                        <div class="mr-auto">
                            <ul class="list-inline">
                                <li [ngClass]="selectedIndex === 0 ? 'active': ''" (click)="toggleActiveChat(0)"><img
                                        src="assets/language.svg" alt=""> <span class="tab-name ml-1">Website</span>
                                    <mat-icon matBadge="2" matBadgeColor="warn"></mat-icon>
                                </li>
                                <li [ngClass]="selectedIndex === 1 ? 'active': ''" (click)="toggleActiveChat(1)"><img
                                        src="assets/whatsapp.svg" alt=""> <span class="tab-name ml-1">WhatsApp</span>
                                    <mat-icon matBadge="12" matBadgeColor="warn"></mat-icon>
                                </li>
                                <li [ngClass]="selectedIndex === 2 ? 'active': ''" (click)="toggleActiveChat(2)"><img
                                        src="assets/Messanger.svg" alt=""> <span class="tab-name ml-1">Messanger</span>
                                    <mat-icon matBadge="1" matBadgeColor="warn"></mat-icon>
                                </li>
                            </ul>
                        </div>
                        <div class="p-2 full-btn">
                            <span class="material-icons">
                                check_box_outline_blank
                            </span>
                        </div>
                        <div class="p-2 close-btn">
                            <span class="material-icons" (click)="toggleChat()">
                                close
                            </span>
                        </div>
                    </div>
                </div>
                <div class="card-header bg-white">
                    <div class="d-flex">
                        <mat-tab-group (wheel)="scrollTabs($event)" #tabGroup class="w-100">
                            <mat-tab *ngFor="let user of userProfile; let i=index;">
                                <ng-template mat-tab-label>
                                    <img src="assets/boy.svg" class="w-100" (click)="getProfileChat(i+1)">
                                    <mat-icon matBadge="{{user.count}}" matBadgeColor="warn" *ngIf="user.isNotification"></mat-icon>
                                </ng-template>
                            </mat-tab>
                        </mat-tab-group>
                    </div>
                </div>
                <div class="card-header bg-white">
                    <div class="d-flex">
                        <div class="sub-tab-name">
                            <div class="user-status"></div>
                            <img src="assets/boy.svg" class="w-100">
                        </div>
                        <div class="profile-message-title">
                            <span>
                                <strong>Angelina Gadne</strong> <span class="message-sub-text"> message on </span>
                                <strong>State Bank of India</strong>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="conatiner">
                        <div *ngFor="let data of userData">
                            <div class="reciever-wrapper d-flex pt-2 pb-2" *ngIf="data.userType === 'reciever'">
                                <div class="reciever-icon">
                                    <img src="assets/boy.svg" class="w-100">
                                </div>
                                <div class="reciever-message">
                                    <span class="inner-reciever-message">{{ data.userMessage }}</span><br />
                                    <span class="time">{{ data.time }}</span>
                                </div>
                            </div>

                            <div class="sender-wrapper d-flex pt-2 pb-2" *ngIf="data.userType === 'sender'">
                                <div class="sender-message">
                                    <span class="inner-sender-message">{{ data.userMessage }}</span><br />
                                    <span class="time-sender">{{ data.time }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-white">
                    <div class="d-flex">
                        <div class="chat-input mr-auto w-100">
                            <span class="material-icons left">
                                sentiment_satisfied_alt
                            </span>
                            <span class="material-icons right">
                                attach_file
                            </span>
                            <input type="text" class="w-100" class="form-control" placeholder="Write your message"
                                [(ngModel)]="userMessage">
                        </div>
                        <div class="chat-send-btn">
                            <button mat-raised-button color="primary" (click)="sendMessage()">
                                <span class="material-icons">
                                    send
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>